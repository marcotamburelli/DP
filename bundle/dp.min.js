!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).dp=e()}}(function(){return function i(a,u,s){function c(n,e){if(!u[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var o=u[n]={exports:{}};a[n][0].call(o.exports,function(e){var t=a[n][1][e];return c(t||e)},o,o.exports,i,a,u,s)}return u[n].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(a,u,s){(function(e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var t,n,r=a("./ponyfill.js"),o=(t=r)&&t.__esModule?t:{default:t};n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:void 0!==u?u:Function("return this")();var i=(0,o.default)(n);s.default=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ponyfill.js":2}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t,n=e.Symbol;"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable";return t}},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a,u=e("./component/Container"),r=e("./component/GroupContainer"),s=e("./component/HtmlComponents"),o=e("./component/ListContainer"),c=e("./component/TextComponent"),l=e("./util/const"),i=e("./util/NativeUtil"),f=e("./util/PropertiesReader");(a||(a={})).createElement=function(e,t){var n=document.createElement(e);return i.NativeUtil.applyProperties(n,t),n},function(e){function i(e,t){return new s.HtmlElementComponent(a.createElement(e,t.nativeProperties),t.dataNodeProperties,t.bindProperties,t.observationProperties)}e.createComponent=function(e,t,n){var r,o=f.PropertiesReader.create(t);switch(e){case l.NODES.DIV:case l.NODES.UL:case l.NODES.OL:case l.NODES.LI:case l.NODES.FORM:return(n?function(e,t){return new u.Container(a.createElement(e,t.nativeProperties),t.dataNodeProperties,t.bindProperties,t.observationProperties)}:i)(e,o);case l.NODES.LABEL:case l.NODES.OPTION:case l.NODES.SPAN:case l.NODES.BUTTON:case l.NODES.A:case l.NODES.P:case l.NODES.H1:case l.NODES.H2:case l.NODES.H3:case l.NODES.H4:case l.NODES.H5:case l.NODES.H6:case l.NODES.BR:return i(e,o);case l.NODES.INPUT:case l.NODES.TEXTAREA:return function(e){var t=e.dataNodeProperties,n=e.bindProperties,r=e.nativeProperties,o=e.observationProperties,i=a.createElement("input",r);switch(r[l.NATIVE_PROPERTIES.TYPE]||""){case"checkbox":return new s.CheckBoxInputComponent(i,t,n,o);case"radio":return new s.RadioInputComponent(i,t,n,o);default:return new s.TextInputComponent(i,t,n,o)}}(o);case l.NODES.SELECT:return r=o,new s.SelectComponent(a.createElement("select",r.nativeProperties),r.dataNodeProperties,r.bindProperties,r.observationProperties)}throw new Error("'"+e+"' not supported")},e.createList=function(e){var t=f.PropertiesReader.create(e);return new o.ListContainer(t.generator,t.dataNodeProperties)},e.createGroup=function(e){return new r.GroupContainer(f.PropertiesReader.create(e).bindProperties)},e.createText=function(e){var t=f.PropertiesReader.create(e),n=t.dataNodeProperties,r=t.bindProperties;return new c.TextComponent(n,r)}}(n.Builder||(n.Builder={}))},{"./component/Container":5,"./component/GroupContainer":7,"./component/HtmlComponents":8,"./component/ListContainer":9,"./component/TextComponent":10,"./util/NativeUtil":16,"./util/PropertiesReader":17,"./util/const":18}],4:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=e("../event/ObservationNode"),u=e("./DataNode"),s=function(){function t(e){i(this,t),this.domWrapper=e}return r(t,[{key:"append",value:function(e){if(e instanceof t){if(e.parent)throw new Error("Element already appended");(e.parent=this).dataNode.append(e.dataNode),this.observationNode.append(e.observationNode),this.domWrapper.appendChild(e.domWrapper)}else this.domWrapper.appendChild(""+e)}},{key:"remove",value:function(e){if(e instanceof t){if(e.parent!==this)throw new Error("Impossible to detach a not child component");delete e.parent,this.dataNode.remove(e.dataNode),this.observationNode.remove(e.observationNode),e.domWrapper.detach()}}},{key:"createObservable",value:function(e){return this.observationNode.createObservable(e)}},{key:"domNode",get:function(){return this.domWrapper.domElement}}],[{key:"getDataNode",value:function(e){return e.dataNode}}]),t}();n.BaseComponent=s;var o=function(e){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};i(this,o);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return r.dataNode=new u.DataNode(t,(t.name||t.id)&&r),r.observationNode=new a.ObservationNode(e.domElement,n,function(){return r.getData()}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,s),o}();n.DataDrivenComponentImpl=o},{"../event/ObservationNode":14,"./DataNode":6}],5:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("./BaseComponent"),a=e("./dom/DomBinder"),u=e("./dom/DomWrappers"),i=function(e){function i(e,t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,u.DomWrappers.simple(e),t,r));return o.domBinder=a.DomBinder.create(n),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o.DataDrivenComponentImpl),r(i,[{key:"setData",value:function(e){this.domBinder.setTo(e,this.domNode),this.dataNode.setData(e)}},{key:"getData",value:function(){return Object.assign({},this.domBinder.getFrom(this.domNode),this.dataNode.getData())}},{key:"queryByName",value:function(e){return this.dataNode.getByName(e)}},{key:"queryById",value:function(e){return this.dataNode.getById(e)}}]),i}();n.Container=i},{"./BaseComponent":4,"./dom/DomBinder":11,"./dom/DomWrappers":12}],6:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.dataNodeProperties=e,this.component=t,this.childSeq=0,this.children=new Map}return r(n,[{key:"append",value:function(e){if(null!=e.idx)throw new Error("Data node cannot be appended since it already has a parent.");e.idx=++this.childSeq,this.children.set(e.idx,e)}},{key:"remove",value:function(e){null!=e.idx&&(this.children.delete(e.idx),delete e.idx)}},{key:"getData",value:function(){return this.getDataRecursive({})}},{key:"setData",value:function(e){this.setDataRecursive(e)}},{key:"getById",value:function(e){if(this.id===e)return this.component;var t=!0,n=!1,r=void 0;try{for(var o,i=this.children.values()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value.getById(e);if(a)return a}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}},{key:"getByName",value:function(e){if(this.name===e)return[this.component];var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=this.children.values()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value.getByName(e);u&&(t=t.concat(u))}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t}},{key:"getDataRecursive",value:function(r){return this.children.forEach(function(e){var t=e.name,n=e.component;t&&n?null==r[t]&&(r[t]=n.getData()):e.getDataRecursive(r)}),r}},{key:"setDataRecursive",value:function(r){this.children.forEach(function(e){var t=e.name,n=e.component;return t?n?void n.setData(r[t]):e.setDataRecursive(r[t]):e.setDataRecursive(r)})}},{key:"name",get:function(){return this.dataNodeProperties.name}},{key:"id",get:function(){return this.dataNodeProperties.id}}]),n}();n.DataNode=o},{}],7:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("./BaseComponent"),i=e("./dom/DomWrappers"),a=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i.DomWrappers.group(),e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.DataDrivenComponentImpl),r(t,[{key:"setData",value:function(e){this.dataNode.setData(e)}},{key:"getData",value:function(){return this.dataNode.getData()}},{key:"queryByName",value:function(e){return this.dataNode.getByName(e)}},{key:"queryById",value:function(e){return this.dataNode.getById(e)}}]),t}();n.GroupContainer=a},{"./BaseComponent":4,"./dom/DomWrappers":12}],8:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=e("./BaseComponent"),c=e("./dom/DomBinder"),l=e("./dom/DomWrappers"),i=function(e){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=arguments[3];a(this,i);var o=u(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,l.DomWrappers.simple(e),t,r));return o.domBinder=c.DomBinder.create(n),o}return o(i,s.DataDrivenComponentImpl),r(i,[{key:"setData",value:function(e){if(this.dataNode.name)if(this.domBinder.isDefault()){var t=this.domBinder.getDefaultBinder().set;t&&this.setDefaultValue(t(e))}else this.domBinder.setTo(e,this.domNode)}},{key:"getData",value:function(){if(this.dataNode.name){if(this.domBinder.isDefault()){var e=this.domBinder.getDefaultBinder().get;return e&&e(this.getDefaultValue())}return this.domBinder.getFrom(this.domNode)}}},{key:"setDefaultValue",value:function(e){this.domWrapper.domElement.textContent=e}},{key:"getDefaultValue",value:function(){return this.domWrapper.domElement.textContent}}]),i}();n.HtmlElementComponent=i;var f=function(e){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=arguments[3];a(this,i);var o=u(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,l.DomWrappers.input(e),t,r));return o.domBinder=c.DomBinder.create(n),o}return o(i,s.DataDrivenComponentImpl),r(i,[{key:"setData",value:function(e){if(this.dataNode.name){var t=this.domBinder.getDefaultBinder().set;t&&(this.domWrapper.domElement.value=t(e))}}},{key:"getData",value:function(){if(this.dataNode.name){var e=this.domBinder.getDefaultBinder().get;return e&&e(this.domWrapper.domElement.value)}}}]),i}();n.TextInputComponent=f;var d=function(e){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=arguments[3];a(this,i);var o=u(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,l.DomWrappers.input(e),t,r));return o.domBinder=c.DomBinder.create(n),o}return o(i,s.DataDrivenComponentImpl),r(i,[{key:"setData",value:function(e){if(this.dataNode.name){var t=this.domBinder.getDefaultBinder().set;t&&(this.domWrapper.domElement.checked=t(e))}}},{key:"getData",value:function(){if(this.dataNode.name){var e=this.domBinder.getDefaultBinder().get;return e&&e(this.domWrapper.domElement.checked)}}}]),i}();n.CheckBoxInputComponent=d;var p=function(e){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=arguments[3];a(this,i);var o=u(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,l.DomWrappers.input(e),t,r));return o.domBinder=c.DomBinder.create(n),o}return o(i,s.DataDrivenComponentImpl),r(i,[{key:"setData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(this.dataNode.name){var t=this.domBinder.getDefaultBinder().set;if(null!=t){var n=this.domWrapper.domElement.options,r={};if(Array.isArray(e)){var o=!0,i=!1,a=void 0;try{for(var u,s=e[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){r[t(u.value)]=!0}}catch(e){i=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}}else r[t(e)]=!0;for(var c=0;c<n.length;c++){var l=n.item(c);l.selected=!0===r[l.value]}}}}},{key:"getData",value:function(){if(this.dataNode.name){var e=this.domBinder.getDefaultBinder().get;if(null!=e){for(var t=[],n=this.domWrapper.domElement.options,r=0;r<n.length;r++){var o=n.item(r);o.selected&&t.push(e(o.value))}return this.domWrapper.domElement.multiple?t:t[0]}}}}]),i}();n.SelectComponent=p;var h=function(e){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=arguments[3];a(this,i);var o=u(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,l.DomWrappers.input(e),t,r));return o.domBinder=c.DomBinder.create(n),o}return o(i,s.DataDrivenComponentImpl),r(i,[{key:"setData",value:function(e){if(this.dataNode.name){var t=this.domBinder.getDefaultBinder().set;if(null!=t){var n=this.domWrapper.domElement;n.checked=n.value===t(e)}}}},{key:"getData",value:function(){if(this.dataNode.name){var e=this.domBinder.getDefaultBinder().get;if(null!=e){var t=this.domWrapper.domElement;return t.checked?e(t.value):void 0}}}}]),i}();n.RadioInputComponent=h},{"./BaseComponent":4,"./dom/DomBinder":11,"./dom/DomWrappers":12}],9:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseComponent"),u=e("./dom/DomWrappers"),o=function(e){function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,u.DomWrappers.group(),t));return n.generator=e,n.children=[],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,a.DataDrivenComponentImpl),r(o,[{key:"append",value:function(e){i(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"append",this).call(this,e),e instanceof a.BaseComponent&&this.children.push(e)}},{key:"remove",value:function(e){i(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"remove",this).call(this,e);for(var t=0;t<this.children.length;t++)this.children[t]===e&&this.children.splice(t,1)}},{key:"setData",value:function(e){var r=this;if(this.generator){for(;this.children.length;)i(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"remove",this).call(this,this.children.pop());e.forEach(function(e,t){var n=r.generator(e,t);n.setData(e),r.append(n)})}}},{key:"getData",value:function(){return this.children.map(function(e){return e.getData()})}},{key:"getChildCount",value:function(){return this.children.length}},{key:"getFirstChild",value:function(){return this.children[0]}},{key:"getLastChild",value:function(){return this.children[this.children.length-1]}},{key:"queryByIdx",value:function(e){return this.children[e]}},{key:"queryByName",value:function(e){return this.dataNode.getByName(e)}},{key:"queryById",value:function(e){return this.dataNode.getById(e)}}]),o}();n.ListContainer=o},{"./BaseComponent":4,"./dom/DomWrappers":12}],10:[function(e,t,n){"use strict";var o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./BaseComponent"),a=e("./dom/DomBinder"),u=e("./dom/DomWrappers"),r=function(e){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,u.DomWrappers.text(),e));return n.domBinder=a.DomBinder.create(t),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i.DataDrivenComponentImpl),o(r,[{key:"setData",value:function(e){if(this.dataNode.name){var t=this.domBinder.getDefaultBinder().set;t&&(this.domWrapper.domElement.data=t(e))}}},{key:"getData",value:function(){if(this.dataNode.name){var e=this.domBinder.getDefaultBinder().get;return e&&e(this.domWrapper.domElement.data)}}}]),r}();n.TextComponent=r},{"./BaseComponent":4,"./dom/DomBinder":11,"./dom/DomWrappers":12}],11:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../util/NativeUtil");n.DEFAULT_BIND="____DEFAULT";var a=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.properties=e,this.names=Object.keys(e).filter(function(e){return e!==n.DEFAULT_BIND})}return r(t,[{key:"isDefault",value:function(){return 0===this.names.length&&null!=this.getDefaultBinder()}},{key:"getDefaultBinder",value:function(){return this.properties[n.DEFAULT_BIND]}},{key:"setTo",value:function(t,n){var r=this;this.names.filter(function(e){return null!=r.properties[e].set}).forEach(function(e){i.NativeUtil.applyProperty(n,{name:e,value:r.properties[e].set(t[e])})})}},{key:"getFrom",value:function(n){var r=this;return this.names.filter(function(e){return null!=r.properties[e].get}).reduce(function(e,t){return Object.assign({},e,o({},t,r.properties[t].get(i.NativeUtil.extractProperty(n,t))))},{})}}],[{key:"create",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e[n.DEFAULT_BIND]?new t(Object.assign({},e)):new t(Object.assign({},e,o({},n.DEFAULT_BIND,t.IDENTITY_BINDER)))}}]),t}();a.IDENTITY_BINDER={get:function(e){return e},set:function(e){return e}},n.DomBinder=a},{"../../util/NativeUtil":16}],12:[function(e,t,n){"use strict";var u=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.simple=function(e){return new n(e)},e.input=function(e){return new t(e)},e.group=function(){return new i},e.text=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return new a(document.createTextNode(e))};var n=function(){function t(e){s(this,t),this.domElement=e}return u(t,[{key:"appendChild",value:function(e){if("string"==typeof e)this.domElement.appendChild(document.createTextNode(e));else{var t=e.domElement;t&&this.domElement.appendChild(t),e.provideParent(this)}}},{key:"provideParent",value:function(e){}},{key:"detach",value:function(){var e=this.domElement.parentNode;e&&e.removeChild(this.domElement)}}]),t}(),t=function(e){function t(e){return s(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n),u(t,[{key:"registerDomName",value:function(e,t){this.domElement.name=e+"."+t}}]),t}(),r="START",o="END",i=function(){function n(){s(this,n),this.startPlaceholder=document.createComment(r),this.endPlaceholder=document.createComment(o),this.pendingChildNodes=[]}return u(n,[{key:"appendChild",value:function(e){this.domParent?this._append(e):this.pendingChildNodes.push(e)}},{key:"provideParent",value:function(e){var t=this;e instanceof n?(this.domParent=e.domParent,this.domParent.insertBefore(this.startPlaceholder,e.endPlaceholder),this.domParent.insertBefore(this.endPlaceholder,e.endPlaceholder)):(this.domParent=e.domElement,this.domParent.appendChild(this.startPlaceholder),this.domParent.appendChild(this.endPlaceholder)),this.pendingChildNodes.forEach(function(e){return t._append(e)})}},{key:"detach",value:function(){for(var e=this.startPlaceholder.nextSibling;e!==this.endPlaceholder;e=this.startPlaceholder.nextSibling)this.domParent.removeChild(e);this.domParent.removeChild(this.startPlaceholder),this.domParent.removeChild(this.endPlaceholder)}},{key:"_append",value:function(e){if("string"==typeof e)this.domParent.insertBefore(document.createTextNode(e),this.endPlaceholder);else{var t=e.domElement;t&&this.domParent.insertBefore(t,this.endPlaceholder),e.provideParent(this)}}}]),n}(),a=function(){function t(e){s(this,t),this.domElement=e}return u(t,[{key:"appendChild",value:function(e){}},{key:"provideParent",value:function(e){}},{key:"detach",value:function(){var e=this.domElement.parentNode;e&&e.removeChild(this.domElement)}}]),t}()}(n.DomWrappers||(n.DomWrappers={}))},{}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("./Builder"),u=e("./component/BaseComponent"),r=e("./event/listener");!function(e){function i(t,e){return e.forEach(function(e){return t.append(e)}),t}e.List=function(e){return a.Builder.createList(e)},e.Group=function(e){return a.Builder.createGroup(e)},e.Text=function(e){return a.Builder.createText(e)},e.define=function(e,t){for(var n=arguments.length,r=Array(2<n?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return"function"==typeof e?i(e(t||{}),r):e instanceof u.BaseComponent?i(e,r):i(a.Builder.createComponent(e,t||{},r.some(function(e){return e instanceof u.BaseComponent})),r)},e.listen=function(e){return r.Listener.create(e)}}(n.dp||(n.dp={}))},{"./Builder":3,"./component/BaseComponent":4,"./event/listener":15}],14:[function(e,t,n){"use strict";var o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=e("symbol-observable"),u=function(){function r(e,t,n){i(this,r),this.activeSubscriptions=e,this.subscriber=t,this.observerType=n,this.innerSubscriptions=[],this.activeSubscriptions.add(this)}return o(r,[{key:"buildSubscription",value:function(e){this.innerSubscriptions.forEach(function(e){return e()}),this.innerSubscriptions=e(this.subscriber,this.observerType)}},{key:"unsubscribe",value:function(){this.innerSubscriptions.forEach(function(e){return e()}),this.activeSubscriptions.delete(this)}}]),r}(),r=function(){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];i(this,r),this.domNode=e,this.observationProperties=t,this.defaultEmitter=n,this.childSeq=0,this.children=new Map,this.activeSubscriptions=new Set}return o(r,[{key:"append",value:function(e){if(null!=e.idx)throw new Error("Observation node cannot be appended since it already has a parent.");e.idx=++this.childSeq,(e.parent=this).children.set(e.idx,e),this.rebuildDependentSubscriptions()}},{key:"remove",value:function(e){null!=e.idx&&(this.children.delete(e.idx),delete e.idx,delete e.parent,this.rebuildDependentSubscriptions())}},{key:"createObservable",value:function(t){var e,n,r,o=this;return e={subscribe:function(e){return o.rebuildSubscription(new u(o.activeSubscriptions,e,t))}},n=a.default,r=function(){return this},n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}},{key:"rebuildSubscription",value:function(e){var n=this;return e.buildSubscription(function(e,t){return n.collectSubscriptions(e,t)}),e}},{key:"rebuildSubscriptions",value:function(){var t=this;this.activeSubscriptions.forEach(function(e){return t.rebuildSubscription(e)})}},{key:"rebuildDependentSubscriptions",value:function(){for(var e=this;e;)e.rebuildSubscriptions(),e=e.parent}},{key:"collectSubscriptions",value:function(i,a){var u=this,s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.defaultEmitter,c=[];this.domNode&&Object.keys(this.observationProperties).map(function(e){var t=u.observationProperties[e],n=t.emitter,r=t.eventType;if(null==a||a===r){var o=function(e){return i.next({eventType:r,payload:(n||s||function(){return null})(e)})};u.domNode.addEventListener(e,o),c.push(function(){return u.domNode.removeEventListener(e,o)})}});var t=[];return this.children.forEach(function(e){return t.push(e.collectSubscriptions(i,a,s))}),[].concat.apply(c,t)}}]),r}();n.ObservationNode=r},{"symbol-observable":1}],15:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function a(e){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.stream=e,this.childListeners=new Map,this.consumer=new Map,this.subscription=e.subscribe({next:function(e){var t=e.eventType,n=e.payload,r=i.consumer.get(t);if(r){i.childListeners.forEach(function(e){return e&&e.dispose()});var o=r(n);o instanceof a&&i.childListeners.set(r,o)}},error:function(e){},complete:function(){}})}return r(a,[{key:"dispose",value:function(){this.subscription&&this.subscription.unsubscribe(),this.childListeners.forEach(function(e){return e&&e.dispose()})}},{key:"on",value:function(t){var n=this;return{execute:function(e){n.consumer.set(t,e)}}}}],[{key:"create",value:function(e){return new a(e)}}]),a}();n.Listener=o},{}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var y=e("./const");!function(e){function m(e){return e.replace(/((-?)\w+)/g,function(e,t){return"-"===e.charAt(0)?""+e.charAt(1).toUpperCase()+e.substr(2).toLowerCase():e.toLowerCase()})}function i(e,t){if("string"==typeof t)var n=function(e){for(var t=/(\w+(-\w+)*)\s*:\s*(\w*(\s|\w)*\w)/g,n={},r=t.exec(e);null!==r;r=t.exec(e)){var o=m(r[1]),i=r[3];n[o]=i}return n}(t);else n=Object.assign({},t);var r=e.style;Object.keys(n).forEach(function(e){return r[e]=n[e]})}function o(e,t){var n=t.name,r=t.value;if(n===y.STYLE_PROPERTIES.CLASS)return function(t,n){if("string"==typeof n)var e=n.split(" ");else e=Array.isArray(n)?n:Object.keys(n).filter(function(e){return n[e]});e.forEach(function(e){return t.classList.add(e)})}(e,r);if(n===y.STYLE_PROPERTIES.STYLE)return i(e,r);if(n.startsWith("on")&&"function"==typeof r)return e.addEventListener(n.substr(2),r);var o=document.createAttribute(n);o.value=r,e.attributes.setNamedItem(o)}e.applyProperty=o,e.extractProperty=function(e,t){if(t===y.STYLE_PROPERTIES.CLASS){var n=e.classList,r=[],o=!0,i=!1,a=void 0;try{for(var u,s=n[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value;r.push(c)}}catch(e){i=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}return r}if(t===y.STYLE_PROPERTIES.STYLE){for(var l=e.style,f={},d=l.length,p=0;p<d;p++){var h=l[p];f[m(h)]=l.getPropertyValue(h)}return f}var v=e.attributes.getNamedItem(t);if(null!=v)return v.value},e.applyProperties=function(n,r){r[y.NATIVE_PROPERTIES.TYPE]&&o(n,{name:y.NATIVE_PROPERTIES.TYPE,value:r[y.NATIVE_PROPERTIES.TYPE]}),Object.keys(r).forEach(function(e){if(e!==y.NATIVE_PROPERTIES.TYPE){var t=r[e];o(n,{name:e,value:t})}})}}(n.NativeUtil||(n.NativeUtil={}))},{"./const":18}],17:[function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("../component/dom/DomBinder"),u=e("./const"),r=function(){function r(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.dataNodeProperties={},this.nativeProperties={},this.observationProperties={},this.bindProperties={},Object.keys(t).forEach(function(e){n.checkGenerator(e,t)||n.checkObservationProperty(e,t)||n.checkBindProperties(e,t)||(n.registerDataNodeProperty(e,t),n.registerAsNative(e,t))})}return i(r,[{key:"registerDataNodeProperty",value:function(e,t){switch(e.toLowerCase()){case u.DATA_NODE_PROPERTIES.ID:this.dataNodeProperties[u.DATA_NODE_PROPERTIES.ID]=t[e];break;case u.DATA_NODE_PROPERTIES.NAME:this.dataNodeProperties[u.DATA_NODE_PROPERTIES.NAME]=t[e]}}},{key:"checkGenerator",value:function(e,t){switch(e.toLowerCase()){case u.SPECIFIC_PROPERTIES.GENERATOR:var n=t[u.SPECIFIC_PROPERTIES.GENERATOR];return"function"==typeof n&&(this.generator=n),!0}}},{key:"checkObservationProperty",value:function(e,t){var n=e.toLowerCase(),r=t[e];if(n.startsWith("on")&&"object"===(void 0===r?"undefined":o(r)))return this.observationProperties[n.substr(2)]=Object.assign({},r),!0}},{key:"checkBindProperties",value:function(e,t){var n=e.toLowerCase(),r=t[e];switch(n){case u.BIND_PROPERTIES.BIND:return this.bindProperties[a.DEFAULT_BIND]=Object.assign({},r),!0}return"object"===(void 0===r?"undefined":o(r))||r.get||r.set?(this.bindProperties[n]=Object.assign({},r),!0):"function"==typeof r?(this.bindProperties[n]={set:r},!0):void 0}},{key:"registerAsNative",value:function(e,t){var n=e.toLowerCase();switch(n){case u.NATIVE_PROPERTIES.TYPE:this.nativeProperties[u.NATIVE_PROPERTIES.TYPE]=t[e].toLowerCase();break;default:this.nativeProperties[n]=t[e]}}}],[{key:"create",value:function(e){return new r(e)}}]),r}();n.PropertiesReader=r},{"../component/dom/DomBinder":11,"./const":18}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NODES={DIV:"div",FORM:"form",LABEL:"label",SPAN:"span",UL:"ul",OL:"ol",LI:"li",P:"p",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",IMG:"img",A:"a",INPUT:"input",TEXTAREA:"textarea",BUTTON:"button",SELECT:"select",OPTION:"option",BR:"br"},n.DATA_NODE_PROPERTIES={ID:"id",NAME:"name"},n.SPECIFIC_PROPERTIES={VALUE_TYPE:"value-type",GENERATOR:"generator"},n.STYLE_PROPERTIES={CLASS:"class",STYLE:"style"},n.NATIVE_PROPERTIES={TYPE:"type"},n.BIND_PROPERTIES={BIND:"bind"}},{}]},{},[13])(13)});