!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).dp=e()}}(function(){return function i(a,u,s){function c(n,e){if(!u[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var o=u[n]={exports:{}};a[n][0].call(o.exports,function(e){var t=a[n][1][e];return c(t||e)},o,o.exports,i,a,u,s)}return u[n].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(a,u,s){(function(e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var t,n,r=a("./ponyfill.js"),o=(t=r)&&t.__esModule?t:{default:t};n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:void 0!==u?u:Function("return this")();var i=(0,o.default)(n);s.default=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ponyfill.js":2}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t,n=e.Symbol;"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable";return t}},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s,c=e("./component/Container"),l=e("./component/HtmlComponents"),r=e("./component/ListContainer"),o=e("./component/TextComponent"),f=e("./util/const"),i=e("./util/NativeUtil"),p=e("./util/PropertiesUtil");(s||(s={})).createElement=function(e,t){var n=document.createElement(e),r=p.PropertiesUtil.getStyleProperties(t),o=p.PropertiesUtil.getNativeProperties(t);return r.class&&i.NativeUtil.applyClass(n,r.class),r.style&&i.NativeUtil.applyStyle(n,r.style),i.NativeUtil.applyProperties(n,o),n},function(e){function u(e,t){return new l.HtmlElementComponent(s.createElement(e,t),p.PropertiesUtil.getDataNodeProperties(t),p.PropertiesUtil.getObservationProperties(t),p.PropertiesUtil.getTransformer(t))}e.createComponent=function(e,t,n){var r,o,i,a=(r=t,o={},Object.keys(r).forEach(function(e){o[e.toLowerCase()]=r[e]}),o);switch(e){case f.NODES.DIV:case f.NODES.UL:case f.NODES.OL:case f.NODES.LI:case f.NODES.FORM:return(n?function(e,t){return new c.Container(s.createElement(e,t),p.PropertiesUtil.getDataNodeProperties(t),p.PropertiesUtil.getObservationProperties(t))}:u)(e,a);case f.NODES.LABEL:case f.NODES.OPTION:case f.NODES.SPAN:case f.NODES.BUTTON:case f.NODES.BUTTON:case f.NODES.A:case f.NODES.P:case f.NODES.H1:case f.NODES.H2:case f.NODES.H3:case f.NODES.H4:case f.NODES.H5:case f.NODES.H6:case f.NODES.BR:return u(e,a);case f.NODES.INPUT:return function(e){var t=s.createElement("input",e),n=p.PropertiesUtil.getDataNodeProperties(e),r=p.PropertiesUtil.getObservationProperties(e);switch((e[f.NATIVE_PROPERTIES.TYPE]||"").toLowerCase()){case"checkbox":return new l.CheckBoxInputComponent(t,n,r);case"radio":return new l.RadioInputComponent(t,n,r,p.PropertiesUtil.getTransformer(e));default:return new l.TextInputComponent(t,n,r,p.PropertiesUtil.getTransformer(e))}}(a);case f.NODES.SELECT:return i=a,new l.SelectComponent(s.createElement("select",i),p.PropertiesUtil.getDataNodeProperties(i),p.PropertiesUtil.getObservationProperties(i),p.PropertiesUtil.getTransformer(i))}throw new Error("'"+e+"' not supported")},e.createList=function(e){return new r.ListContainer(p.PropertiesUtil.getGenerator(e),p.PropertiesUtil.getDataNodeProperties(e))},e.createText=function(e){return new o.TextComponent(p.PropertiesUtil.getDataNodeProperties(e))}}(n.Builder||(n.Builder={}))},{"./component/Container":5,"./component/HtmlComponents":8,"./component/ListContainer":9,"./component/TextComponent":10,"./util/NativeUtil":14,"./util/PropertiesUtil":15,"./util/const":16}],4:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=e("../event/ObservationNode"),u=e("./DataNode"),s=function(){function t(e){i(this,t),this.domWrapper=e}return r(t,[{key:"append",value:function(e){if(e instanceof t){if(e.parent)throw new Error("Element already appended");(e.parent=this).dataNode.append(e.dataNode),this.observationNode.append(e.observationNode),this.domWrapper.appendChild(e.domWrapper)}else this.domWrapper.appendChild(""+e)}},{key:"remove",value:function(e){if(e instanceof t){if(e.parent!==this)throw new Error("Impossible to detach a not child component");delete e.parent,this.dataNode.remove(e.dataNode),this.observationNode.remove(e.observationNode),e.domWrapper.detach()}}},{key:"createObservable",value:function(e){return this.observationNode.createObservable(e)}},{key:"domNode",get:function(){return this.domWrapper.domElement}}],[{key:"getDataNode",value:function(e){return e.dataNode}}]),t}();n.BaseComponent=s;var o=function(e){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};i(this,o);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return r.dataNode=new u.DataNode(t,(t.name||t.id)&&r),r.observationNode=new a.ObservationNode(e.domElement,n,function(){return r.getData()}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,s),o}();n.DataDrivenComponentImpl=o},{"../event/ObservationNode":12,"./DataNode":6}],5:[function(e,t,n){"use strict";var o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./BaseComponent"),a=e("./DomWrappers"),r=function(e){function r(e,t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,a.DomWrappers.simple(e),t,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i.DataDrivenComponentImpl),o(r,[{key:"setData",value:function(e){this.dataNode.setData(e)}},{key:"getData",value:function(){return this.dataNode.getData()}},{key:"queryByName",value:function(e){return this.dataNode.getByName(e)}},{key:"queryById",value:function(e){return this.dataNode.getById(e)}}]),r}();n.Container=r},{"./BaseComponent":4,"./DomWrappers":7}],6:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.dataNodeProperties=e,this.component=t,this.childSeq=0,this.children=new Map}return r(n,[{key:"append",value:function(e){if(null!=e.idx)throw new Error("Data node cannot be appended since it already has a parent.");e.idx=++this.childSeq,this.children.set(e.idx,e)}},{key:"remove",value:function(e){null!=e.idx&&(this.children.delete(e.idx),delete e.idx)}},{key:"getData",value:function(){return this.getDataRecursive({})}},{key:"getDataRecursive",value:function(r){return this.children.forEach(function(e){var t=e.name,n=e.component;t&&n?null==r[t]&&(r[t]=n.getData()):e.getDataRecursive(r)}),r}},{key:"setData",value:function(e){this.setDataRecursive(e)}},{key:"setDataRecursive",value:function(r){this.children.forEach(function(e){var t=e.name,n=e.component;return t?n?void n.setData(r[t]):e.setDataRecursive(r[t]):e.setDataRecursive(r)})}},{key:"getById",value:function(e){if(this.id===e)return this.component;var t=!0,n=!1,r=void 0;try{for(var o,i=this.children.values()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value.getById(e);if(a)return a}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}},{key:"getByName",value:function(e){if(this.name===e)return[this.component];var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=this.children.values()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value.getByName(e);u&&(t=t.concat(u))}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t}},{key:"name",get:function(){return this.dataNodeProperties.name}},{key:"id",get:function(){return this.dataNodeProperties.id}}]),n}();n.DataNode=o},{}],7:[function(e,t,n){"use strict";var u=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.simple=function(e){return new n(e)},e.input=function(e){return new t(e)},e.array=function(){return new i},e.text=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return new a(document.createTextNode(e))};var n=function(){function t(e){s(this,t),this.domElement=e}return u(t,[{key:"appendChild",value:function(e){if("string"==typeof e)this.domElement.appendChild(document.createTextNode(e));else{var t=e.domElement;t&&this.domElement.appendChild(t),e.provideParent(this)}}},{key:"provideParent",value:function(e){}},{key:"detach",value:function(){var e=this.domElement.parentNode;e&&e.removeChild(this.domElement)}},{key:"registerDomId",value:function(e,t){this.domElement.id=e+"."+t}},{key:"registerDomName",value:function(e,t){}}]),t}(),t=function(e){function t(e){return s(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n),u(t,[{key:"registerDomName",value:function(e,t){this.domElement.name=e+"."+t}}]),t}(),r="START",o="END",i=function(){function t(){s(this,t),this.startPlaceholder=document.createComment(r),this.endPlaceholder=document.createComment(o)}return u(t,[{key:"appendChild",value:function(e){if(!this.domParent)throw new Error("Array requires to be attached to a parent element, in order to add children");if("string"==typeof e)this.domParent.insertBefore(document.createTextNode(e),this.endPlaceholder);else{var t=e.domElement;t&&this.domParent.insertBefore(t,this.endPlaceholder),e.provideParent(this)}}},{key:"provideParent",value:function(e){e instanceof t?(this.domParent=e.domParent,this.domParent.insertBefore(this.startPlaceholder,e.endPlaceholder),this.domParent.insertBefore(this.endPlaceholder,e.endPlaceholder)):(this.domParent=e.domElement,this.domParent.appendChild(this.startPlaceholder),this.domParent.appendChild(this.endPlaceholder))}},{key:"detach",value:function(){for(var e=this.startPlaceholder.nextSibling;e!==this.endPlaceholder;e=this.startPlaceholder.nextSibling)this.domParent.removeChild(e);this.domParent.removeChild(this.startPlaceholder),this.domParent.removeChild(this.endPlaceholder)}},{key:"registerDomId",value:function(e,t){}},{key:"registerDomName",value:function(e,t){}}]),t}(),a=function(){function t(e){s(this,t),this.domElement=e}return u(t,[{key:"appendChild",value:function(e){}},{key:"provideParent",value:function(e){}},{key:"detach",value:function(){var e=this.domElement.parentNode;e&&e.removeChild(this.domElement)}},{key:"registerDomId",value:function(e,t){}},{key:"registerDomName",value:function(e,t){}}]),t}()}(n.DomWrappers||(n.DomWrappers={}))},{}],8:[function(e,t,n){"use strict";var o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var c=e("./BaseComponent"),l=e("./DomWrappers");function f(e){return null==e?"":e.toString()}var r=function(e){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=arguments[3];a(this,i);var o=u(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,l.DomWrappers.simple(e),t,n));return o.transformer=r,o}return s(i,c.DataDrivenComponentImpl),o(i,[{key:"setData",value:function(e){this.dataNode.name&&(this.domWrapper.domElement.textContent=f(e))}},{key:"getData",value:function(){if(this.dataNode.name&&this.transformer)return this.transformer(this.domWrapper.domElement.textContent)}}]),i}();n.HtmlElementComponent=r;var i=function(e){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=arguments[3];a(this,i);var o=u(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,l.DomWrappers.input(e),t,n));return o.transformer=r,o}return s(i,c.DataDrivenComponentImpl),o(i,[{key:"setData",value:function(e){this.dataNode.name&&(this.domWrapper.domElement.value=f(e))}},{key:"getData",value:function(){if(this.dataNode.name&&this.transformer)return this.transformer(this.domWrapper.domElement.value)}}]),i}();n.TextInputComponent=i;var p=function(e){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];return a(this,r),u(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,l.DomWrappers.input(e),t,n))}return s(r,c.DataDrivenComponentImpl),o(r,[{key:"setData",value:function(e){this.dataNode.name&&(this.domWrapper.domElement.checked=!!e)}},{key:"getData",value:function(){if(this.dataNode.name)return this.domWrapper.domElement.checked}}]),r}();n.CheckBoxInputComponent=p;var d=function(e){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=arguments[3];a(this,i);var o=u(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,l.DomWrappers.input(e),t,n));return o.transformer=r,o}return s(i,c.DataDrivenComponentImpl),o(i,[{key:"setData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(this.dataNode.name){var t=this.domWrapper.domElement.options,n={};if(Array.isArray(e)){var r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){n[a.value.toString()]=!0}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}}else n[f(e)]=!0;for(var s=0;s<t.length;s++){var c=t.item(s);c.selected=!0===n[c.value]}}}},{key:"getData",value:function(){if(this.dataNode.name&&this.transformer){for(var e=[],t=this.domWrapper.domElement.options,n=0;n<t.length;n++){var r=t.item(n);r.selected&&e.push(this.transformer(r.value))}return this.domWrapper.domElement.multiple?e:e[0]}}}]),i}();n.SelectComponent=d;var h=function(e){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=arguments[3];a(this,i);var o=u(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,l.DomWrappers.input(e),t,n));return o.transformer=r,o}return s(i,c.DataDrivenComponentImpl),o(i,[{key:"setData",value:function(e){if(this.dataNode.name){var t=this.domWrapper.domElement;t.checked=t.value===f(e)}}},{key:"getData",value:function(){if(this.dataNode.name&&this.transformer){var e=this.domWrapper.domElement;if(e.checked)return this.transformer(e.value)}}}]),i}();n.RadioInputComponent=h},{"./BaseComponent":4,"./DomWrappers":7}],9:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseComponent"),u=e("./DomWrappers"),o=function(e){function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,u.DomWrappers.array(),t));return n.generator=e,n.children=[],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,a.DataDrivenComponentImpl),r(o,[{key:"append",value:function(e){i(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"append",this).call(this,e),e instanceof a.BaseComponent&&this.children.push(e)}},{key:"remove",value:function(e){i(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"remove",this).call(this,e);for(var t=0;t<this.children.length;t++)this.children[t]===e&&this.children.splice(t,1)}},{key:"setData",value:function(e){var r=this;if(this.generator){for(;this.children.length;)i(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"remove",this).call(this,this.children.pop());e.forEach(function(e,t){var n=r.generator(e,t);n.setData(e),r.append(n)})}}},{key:"getData",value:function(){return this.children.map(function(e){return e.getData()})}},{key:"getChildCount",value:function(){return this.children.length}},{key:"getFirstChild",value:function(){return this.children[0]}},{key:"getLastChild",value:function(){return this.children[this.children.length-1]}},{key:"queryByIdx",value:function(e){return this.children[e]}},{key:"queryByName",value:function(e){return this.dataNode.getByName(e)}},{key:"queryById",value:function(e){return this.dataNode.getById(e)}}]),o}();n.ListContainer=o},{"./BaseComponent":4,"./DomWrappers":7}],10:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("./BaseComponent"),i=e("./DomWrappers"),a=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i.DomWrappers.text(),e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.DataDrivenComponentImpl),r(t,[{key:"setData",value:function(e){this.dataNode.name&&(this.domWrapper.domElement.data=e)}},{key:"getData",value:function(){if(this.dataNode.name)return this.domWrapper.domElement.data}}]),t}();n.TextComponent=a},{"./BaseComponent":4,"./DomWrappers":7}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,a=e("./Builder"),u=e("./component/BaseComponent"),o=e("./event/listener");(r=n.dp||(n.dp={})).List=function(e){return a.Builder.createList(e)},r.Text=function(e){return a.Builder.createText(e)},r.define=function(e,t){for(var n=arguments.length,r=Array(2<n?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if("function"==typeof e)var i=e(t||{});else i=e instanceof u.BaseComponent?e:a.Builder.createComponent(e,t||{},r.some(function(e){return e instanceof u.BaseComponent}));return r.forEach(function(e){return i.append(e)}),i},r.listen=function(e){return o.Listener.create(e)}},{"./Builder":3,"./component/BaseComponent":4,"./event/listener":13}],12:[function(e,t,n){"use strict";var o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=e("symbol-observable"),u=function(){function r(e,t,n){i(this,r),this.activeSubscriptions=e,this.subscriber=t,this.observerType=n,this.innerSubscriptions=[],this.activeSubscriptions.add(this)}return o(r,[{key:"buildSubscription",value:function(e){this.innerSubscriptions.forEach(function(e){return e()}),this.innerSubscriptions=e(this.subscriber,this.observerType)}},{key:"unsubscribe",value:function(){this.innerSubscriptions.forEach(function(e){return e()}),this.activeSubscriptions.delete(this)}}]),r}(),r=function(){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];i(this,r),this.domNode=e,this.observationProperties=t,this.defaultEmitter=n,this.childSeq=0,this.children=new Map,this.activeSubscriptions=new Set}return o(r,[{key:"append",value:function(e){if(null!=e.idx)throw new Error("Observation node cannot be appended since it already has a parent.");e.idx=++this.childSeq,(e.parent=this).children.set(e.idx,e),this.rebuildDependentSubscriptions()}},{key:"remove",value:function(e){null!=e.idx&&(this.children.delete(e.idx),delete e.idx,delete e.parent,this.rebuildDependentSubscriptions())}},{key:"createObservable",value:function(t){var e,n,r,o=this;return e={subscribe:function(e){return o.rebuildSubscription(new u(o.activeSubscriptions,e,t))}},n=a.default,r=function(){return this},n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}},{key:"rebuildSubscription",value:function(e){var n=this;return e.buildSubscription(function(e,t){return n.collectSubscriptions(e,t)}),e}},{key:"rebuildSubscriptions",value:function(){var t=this;this.activeSubscriptions.forEach(function(e){return t.rebuildSubscription(e)})}},{key:"rebuildDependentSubscriptions",value:function(){for(var e=this;e;)e.rebuildSubscriptions(),e=e.parent}},{key:"collectSubscriptions",value:function(i,a){var u=this,s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.defaultEmitter,c=[];this.domNode&&Object.keys(this.observationProperties).map(function(e){var t=u.observationProperties[e],n=t.emitter,r=t.eventType;if(null==a||a===r){var o=function(e){return i.next({eventType:r,payload:(n||s||function(){return null})(e)})};u.domNode.addEventListener(e,o),c.push(function(){return u.domNode.removeEventListener(e,o)})}});var t=[];return this.children.forEach(function(e){return t.push(e.collectSubscriptions(i,a,s))}),[].concat.apply(c,t)}}]),r}();n.ObservationNode=r},{"symbol-observable":1}],13:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function a(e){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.stream=e,this.childListeners=new Map,this.consumer=new Map,this.subscription=e.subscribe({next:function(e){var t=e.eventType,n=e.payload,r=i.consumer.get(t);if(r){i.childListeners.forEach(function(e){return e&&e.dispose()});var o=r(n);o instanceof a&&i.childListeners.set(r,o)}},error:function(e){},complete:function(){}})}return r(a,[{key:"dispose",value:function(){this.subscription&&this.subscription.unsubscribe(),this.childListeners.forEach(function(e){return e&&e.dispose()})}},{key:"on",value:function(t){var n=this;return{execute:function(e){n.consumer.set(t,e)}}}}],[{key:"create",value:function(e){return new a(e)}}]),a}();n.Listener=o},{}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,o=e("./const");(r=n.NativeUtil||(n.NativeUtil={})).applyClass=function(t,e){e.split(" ").forEach(function(e){return t.classList.add(e)})},r.applyStyle=function(e,t){if("string"==typeof t)var n=function(e){for(var t=/(\w+(-\w+)*)\s*:\s*(\w*(\s|\w)*\w)/g,n={},r=t.exec(e);null!==r;r=t.exec(e)){var o=r[1].replace(/((-?)\w+)/g,function(e,t){return"-"===e.charAt(0)?""+e.charAt(1).toUpperCase()+e.substr(2).toLowerCase():e.toLowerCase()}),i=r[3];n[o]=i}return n}(t);else n=Object.assign({},t);var r=e.style;Object.keys(n).forEach(function(e){return r[e]=n[e]})},r.applyProperties=function(n,r){r[o.NATIVE_PROPERTIES.TYPE]&&(n[o.NATIVE_PROPERTIES.TYPE]=r[o.NATIVE_PROPERTIES.TYPE]),Object.keys(r).forEach(function(e){if(e!==o.NATIVE_PROPERTIES.TYPE){var t=r[e];e.startsWith("on")&&"function"==typeof t?n.addEventListener(e.substr(2),t):n[e]=t}})}},{"./const":16}],15:[function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0});var r,i=e("./const");(r=n.PropertiesUtil||(n.PropertiesUtil={})).getDataNodeProperties=function(e){return{id:e[i.DATA_NODE_PROPERTIES.ID],name:e[i.DATA_NODE_PROPERTIES.NAME]}},r.getTransformer=function(e){switch(e[i.SPECIFIC_PROPERTIES.VALUE_TYPE]){case"number":return function(e){return parseInt(e)};case"number.float":return function(e){return parseFloat(e)};default:return function(e){return e}}},r.getGenerator=function(e){var t=e[i.SPECIFIC_PROPERTIES.GENERATOR];if("function"==typeof t)return t},r.getStyleProperties=function(e){return{class:e[i.STYLE_PROPERTIES.CLASS],style:e[i.STYLE_PROPERTIES.STYLE]}},r.getNativeProperties=function(e){var t=Object.assign({},e);return delete t[i.DATA_NODE_PROPERTIES.ID],delete t[i.SPECIFIC_PROPERTIES.VALUE_TYPE],delete t[i.SPECIFIC_PROPERTIES.GENERATOR],delete t[i.STYLE_PROPERTIES.CLASS],delete t[i.STYLE_PROPERTIES.STYLE],t},r.getObservationProperties=function(n){var r={};return Object.keys(n).forEach(function(e){var t=n[e];e.startsWith("on")&&"object"===(void 0===t?"undefined":o(t))&&(r[e.substr(2)]=Object.assign({},t))}),r}},{"./const":16}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NODES={DIV:"div",FORM:"form",LABEL:"label",SPAN:"span",UL:"ul",OL:"ol",LI:"li",P:"p",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",IMG:"img",A:"a",INPUT:"input",BUTTON:"button",SELECT:"select",OPTION:"option",BR:"br"},n.DATA_NODE_PROPERTIES={ID:"id",NAME:"name"},n.SPECIFIC_PROPERTIES={VALUE_TYPE:"value-type",GENERATOR:"generator"},n.STYLE_PROPERTIES={CLASS:"class",STYLE:"style"},n.NATIVE_PROPERTIES={TYPE:"type"}},{}]},{},[11])(11)});