!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).dp=e()}}(function(){return function i(a,u,s){function c(n,e){if(!u[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(p)return p(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var o=u[n]={exports:{}};a[n][0].call(o.exports,function(e){var t=a[n][1][e];return c(t||e)},o,o.exports,i,a,u,s)}return u[n].exports}for(var p="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(a,u,s){(function(e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var t,n,r=a("./ponyfill.js"),o=(t=r)&&t.__esModule?t:{default:t};n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:void 0!==u?u:Function("return this")();var i=(0,o.default)(n);s.default=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ponyfill.js":2}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t,n=e.Symbol;"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable";return t}},{}],3:[function(e,t,n){"use strict";var o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var a,u=e("./component/Container"),s=e("./component/GroupContainer"),c=e("./component/HtmlComponents"),p=e("./component/ListContainer"),l=e("./component/TextComponent"),f=e("./generator/CustomComponent"),d=e("./generator/generator"),h=e("./util/const"),r=e("./util/NativeUtil"),v=e("./util/PropertiesReader");(a||(a={})).createElement=function(e,t){var n=document.createElement(e);return r.NativeUtil.applyProperties(n,t),n},function(e){function i(e,t){return new c.HtmlElementComponent(a.createElement(e,t.nativeProperties),t.dataNodeProperties,t.bindProperties,t.observationProperties)}e.createComponent=function(e,t,n){var r,o=v.PropertiesReader.create(t);switch(e){case h.NODES.DIV:case h.NODES.UL:case h.NODES.OL:case h.NODES.LI:case h.NODES.FORM:return(n?function(e,t){return new u.Container(a.createElement(e,t.nativeProperties),t.dataNodeProperties,t.bindProperties,t.observationProperties)}:i)(e,o);case h.NODES.LABEL:case h.NODES.OPTION:case h.NODES.SPAN:case h.NODES.BUTTON:case h.NODES.A:case h.NODES.P:case h.NODES.H1:case h.NODES.H2:case h.NODES.H3:case h.NODES.H4:case h.NODES.H5:case h.NODES.H6:case h.NODES.BR:return i(e,o);case h.NODES.INPUT:case h.NODES.TEXTAREA:return function(e){var t=e.dataNodeProperties,n=e.bindProperties,r=e.nativeProperties,o=e.observationProperties,i=a.createElement("input",r);switch(r[h.NATIVE_PROPERTIES.TYPE]||""){case"checkbox":return new c.CheckBoxInputComponent(i,t,n,o);case"radio":return new c.RadioInputComponent(i,t,n,o);default:return new c.TextInputComponent(i,t,n,o)}}(o);case h.NODES.SELECT:return r=o,new c.SelectComponent(a.createElement("select",r.nativeProperties),r.dataNodeProperties,r.bindProperties,r.observationProperties)}throw new Error("'"+e+"' not supported")},e.createList=function(e,t){var n=v.PropertiesReader.create(e),r=n.dataNodeProperties,o=n.nativeProperties;return new p.ListContainer(d.createGenerator(t),r,o)},e.createGroup=function(e){var t=v.PropertiesReader.create(e),n=t.dataNodeProperties,r=t.nativeProperties;return new s.GroupContainer(n,r)},e.createText=function(e){var t=v.PropertiesReader.create(e),n=t.dataNodeProperties,r=t.bindProperties,o=t.nativeProperties;return new l.TextComponent(n,r,o)},e.createCustom=function(n,r){var e=n.prototype;return e&&e instanceof f.CustomComponent?new e.constructor(r):new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.CustomComponent),o(t,[{key:"generateComponent",value:function(){return n(r)}}]),t}())}}(n.Builder||(n.Builder={}))},{"./component/Container":5,"./component/GroupContainer":7,"./component/HtmlComponents":8,"./component/ListContainer":9,"./component/TextComponent":10,"./generator/CustomComponent":16,"./generator/generator":17,"./util/NativeUtil":18,"./util/PropertiesReader":19,"./util/const":20}],4:[function(e,t,n){"use strict";var r=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=e("../event/ObservationNode"),s=e("./DataNode"),c=function(){function n(){a(this,n),this.children=[]}return i(n,[{key:"append",value:function(e){if(e instanceof n){if(e.parent)throw new Error("Element already appended");(e.parent=this).observationNode.append(e.observationNode),this.domWrapper.appendChild(e.domWrapper)}else this.domWrapper.appendChild(""+e);this.children.push(e)}},{key:"remove",value:function(e){if(e instanceof n){if(e.parent!==this)throw new Error("Impossible to detach a not child component");delete e.parent,this.observationNode.remove(e.observationNode),this.domWrapper.removeChild(e.domWrapper);var t=this.children.indexOf(e);0<=t&&this.children.splice(t,1)}}},{key:"createObservable",value:function(e){return this.observationNode.createObservable(e)}},{key:"cloneComponent",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=this.prepareCopy();return e&&this.children.forEach(function(e){e instanceof n?t.append(e.cloneComponent()):t.append(e)}),t}},{key:"id",get:function(){return this.domWrapper.id}},{key:"domNode",get:function(){return this.domWrapper.domElement}}]),n}();n.DomBasedComponent=c;var o=function(e){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};a(this,o);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return r.domWrapper=e,r.dataNode=new s.DataNode(t,r),r.observationNode=new u.ObservationNode(r.dataNode,n),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,c),i(o,[{key:"append",value:function(e){r(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"append",this).call(this,e),e instanceof o&&this.dataNode.append(e.dataNode)}},{key:"remove",value:function(e){r(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"remove",this).call(this,e),e instanceof o&&this.dataNode.remove(e.dataNode)}}]),o}();n.DataDrivenComponentImpl=o},{"../event/ObservationNode":14,"./DataNode":6}],5:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("./BaseComponent"),a=e("./dom/DomBinder"),u=e("./dom/DomWrappers"),i=function(e){function i(e,t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,u.DomWrappers.simple(e),t,r));return o.element=e,o.dataNodeProps=t,o.bindProperties=n,o.observationProperties=r,o.isContainer=!0,o.domBinder=a.DomBinder.create(n),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o.DataDrivenComponentImpl),r(i,[{key:"setData",value:function(e){this.domBinder.setTo(e,this.domNode),this.dataNode.setData(e)}},{key:"getData",value:function(){return Object.assign({},this.domBinder.getFrom(this.domNode),this.dataNode.getData())}},{key:"queryByName",value:function(e){return this.dataNode.getByName(e)}},{key:"queryById",value:function(e){return this.dataNode.getById(e)}},{key:"prepareCopy",value:function(){return new this.constructor(this.element.cloneNode(),this.dataNodeProps,this.bindProperties,this.observationProperties)}}]),i}();n.Container=i},{"./BaseComponent":4,"./dom/DomBinder":11,"./dom/DomWrappers":12}],6:[function(e,t,n){"use strict";var i,r,o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0}),(r=i=n.DataMappingBehavior||(n.DataMappingBehavior={}))[r.Named=0]="Named",r[r.Spread=1]="Spread",r[r.Search=2]="Search";var a=function(){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.dataNodeProperties=e,this.component=t,this.children=new Set}return o(n,[{key:"append",value:function(e){if(null!=e.parent)throw new Error("Data node cannot be appended since it already has a parent.");(e.parent=this).children.add(e)}},{key:"remove",value:function(e){e.parent===this&&(this.children.delete(e),delete e.parent)}},{key:"getMinimalNamedComponent",value:function(){for(var e=this,t=e.parent;t;){var n=(e.component||{}).isContainer;if(e.name&&n)break;if((t.component||{}).isList)break;t=(e=t).parent}return e.component}},{key:"getData",value:function(){return this.getDataRecursive({})}},{key:"setData",value:function(e){this.setDataRecursive(e)}},{key:"getById",value:function(e){if(e){if(this.component.id===e)return this.component;var t=!0,n=!1,r=void 0;try{for(var o,i=this.children.values()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value.getById(e);if(a)return a}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}}},{key:"getByName",value:function(e){if(this.name===e)return[this.component];var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=this.children.values()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value.getByName(e);u&&(t=t.concat(u))}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t}},{key:"getDataRecursive",value:function(o){return this.children.forEach(function(e){var t=e.name,n=e.component;switch(e.dataBehavior){case i.Named:null==o[t]&&(o[t]=n.getData());break;case i.Spread:var r=n.getData()||{};Object.keys(r).forEach(function(e){return o[e]=r[e]});break;case i.Search:e.getDataRecursive(o)}}),o}},{key:"setDataRecursive",value:function(r){this.children.forEach(function(e){var t=e.name,n=e.component;switch(e.dataBehavior){case i.Named:return n.setData(r[t]);case i.Spread:return n.setData(r);case i.Search:return e.setDataRecursive(r)}})}},{key:"name",get:function(){return this.dataNodeProperties.name}},{key:"dataBehavior",get:function(){return this.dataNodeProperties.dataBehavior||(this.name?i.Named:i.Search)}}]),n}();n.DataNode=a},{}],7:[function(e,t,n){"use strict";var o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("../util/const"),a=e("./BaseComponent"),u=e("./dom/DomWrappers"),r=function(e){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,u.DomWrappers.group(),e));return n.dataNodeProps=e,n.nativeProperties=t,n.isContainer=!0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,a.DataDrivenComponentImpl),o(r,[{key:"setData",value:function(e){this.dataNode.setData(e)}},{key:"getData",value:function(){return this.dataNode.getData()}},{key:"queryByName",value:function(e){return this.dataNode.getByName(e)}},{key:"queryById",value:function(e){return this.dataNode.getById(e)}},{key:"prepareCopy",value:function(){return new this.constructor(this.dataNodeProps)}},{key:"id",get:function(){return this.nativeProperties&&this.nativeProperties[i.NATIVE_PROPERTIES.ID]}}]),r}();n.GroupContainer=r},{"../util/const":20,"./BaseComponent":4,"./dom/DomWrappers":12}],8:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./BaseComponent"),l=e("./DataNode"),c=e("./dom/DomBinder"),p=e("./dom/DomWrappers"),i=function(e){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=arguments[3];a(this,i);var o=u(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,p.DomWrappers.simple(e),t,r));return o.element=e,o.dataNodeProperties=t,o.bindProperties=n,o.observationProperties=r,o.domBinder=c.DomBinder.create(n),o}return s(i,o.DataDrivenComponentImpl),r(i,[{key:"prepareCopy",value:function(){return new this.constructor(this.element.cloneNode(),this.dataNodeProperties,this.bindProperties,this.observationProperties)}}]),i}();n.HtmlComponent=i;var f=function(e){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=arguments[3];return a(this,o),u(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,t,n,r))}return s(o,i),r(o,[{key:"setData",value:function(e){if(this.dataNode.dataBehavior!==l.DataMappingBehavior.Search)if(this.domBinder.isDefault()){var t=this.domBinder.getDefaultBinder().set;t&&this.setDefaultValue(t(e))}else this.domBinder.setTo(e,this.domNode)}},{key:"getData",value:function(){if(this.dataNode.dataBehavior!==l.DataMappingBehavior.Search){if(this.domBinder.isDefault()){var e=this.domBinder.getDefaultBinder().get;return e&&e(this.getDefaultValue())}return this.domBinder.getFrom(this.domNode)}}},{key:"setDefaultValue",value:function(e){this.domWrapper.domElement.textContent=e}},{key:"getDefaultValue",value:function(){return this.domWrapper.domElement.textContent}}]),o}();n.HtmlElementComponent=f;var d=function(e){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=arguments[3];return a(this,o),u(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,t,n,r))}return s(o,i),r(o,[{key:"setData",value:function(e){if(this.dataNode.dataBehavior!==l.DataMappingBehavior.Search){var t=this.domBinder.getDefaultBinder().set;t&&(this.domWrapper.domElement.value=t(e))}}},{key:"getData",value:function(){if(this.dataNode.dataBehavior!==l.DataMappingBehavior.Search){var e=this.domBinder.getDefaultBinder().get;return e&&e(this.domWrapper.domElement.value)}}}]),o}();n.TextInputComponent=d;var h=function(e){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=arguments[3];return a(this,o),u(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,t,n,r))}return s(o,i),r(o,[{key:"setData",value:function(e){if(this.dataNode.dataBehavior!==l.DataMappingBehavior.Search){var t=this.domBinder.getDefaultBinder().set;t&&(this.domWrapper.domElement.checked=t(e))}}},{key:"getData",value:function(){if(this.dataNode.dataBehavior!==l.DataMappingBehavior.Search){var e=this.domBinder.getDefaultBinder().get;return e&&e(this.domWrapper.domElement.checked)}}}]),o}();n.CheckBoxInputComponent=h;var v=function(e){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=arguments[3];return a(this,o),u(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,t,n,r))}return s(o,i),r(o,[{key:"setData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(this.dataNode.dataBehavior!==l.DataMappingBehavior.Search){var t=this.domBinder.getDefaultBinder().set;if(null!=t){var n=this.domWrapper.domElement.options,r={};if(Array.isArray(e)){var o=!0,i=!1,a=void 0;try{for(var u,s=e[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){r[t(u.value)]=!0}}catch(e){i=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}}else r[t(e)]=!0;for(var c=0;c<n.length;c++){var p=n.item(c);p.selected=!0===r[p.value]}}}}},{key:"getData",value:function(){if(this.dataNode.dataBehavior!==l.DataMappingBehavior.Search){var e=this.domBinder.getDefaultBinder().get;if(null!=e){for(var t=[],n=this.domWrapper.domElement.options,r=0;r<n.length;r++){var o=n.item(r);o.selected&&t.push(e(o.value))}return this.domWrapper.domElement.multiple?t:t[0]}}}}]),o}();n.SelectComponent=v;var m=function(e){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=arguments[3];return a(this,o),u(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,t,n,r))}return s(o,i),r(o,[{key:"setData",value:function(e){if(this.dataNode.dataBehavior!==l.DataMappingBehavior.Search){var t=this.domBinder.getDefaultBinder().set;if(null!=t){var n=this.domWrapper.domElement;n.checked=n.value===t(e)}}}},{key:"getData",value:function(){if(this.dataNode.dataBehavior!==l.DataMappingBehavior.Search){var e=this.domBinder.getDefaultBinder().get;if(null!=e){var t=this.domWrapper.domElement;return t.checked?e(t.value):void 0}}}}]),o}();n.RadioInputComponent=m},{"./BaseComponent":4,"./DataNode":6,"./dom/DomBinder":11,"./dom/DomWrappers":12}],9:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../util/const"),u=e("./BaseComponent"),s=e("./dom/DomWrappers"),o=function(e){function o(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,s.DomWrappers.group(),t));return r.generator=e,r.dataNodeProps=t,r.nativeProperties=n,r.isContainer=!0,r.isList=!0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,u.DataDrivenComponentImpl),r(o,[{key:"append",value:function(e){if(!(e instanceof u.DomBasedComponent))throw new Error("List can only append component");i(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"append",this).call(this,e)}},{key:"setData",value:function(e){var n=this;if(this.generator){for(;this.children.length;)i(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"remove",this).call(this,this.children.pop());e.forEach(function(e){var t=n.generator();t.setData(e),n.append(t)})}}},{key:"getData",value:function(){return this.children.map(function(e){return e.getData()})}},{key:"getChildCount",value:function(){return this.children.length}},{key:"getFirstChild",value:function(){return this.children[0]}},{key:"getLastChild",value:function(){return this.children[this.children.length-1]}},{key:"queryByIdx",value:function(e){return this.children[e]}},{key:"queryByName",value:function(e){return this.dataNode.getByName(e)}},{key:"queryById",value:function(e){return this.dataNode.getById(e)}},{key:"prepareCopy",value:function(){return new this.constructor(this.generator,this.dataNodeProps)}},{key:"id",get:function(){return this.nativeProperties&&this.nativeProperties[a.NATIVE_PROPERTIES.ID]}}]),o}();n.ListContainer=o},{"../util/const":20,"./BaseComponent":4,"./dom/DomWrappers":12}],10:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("../util/const"),a=e("./BaseComponent"),u=e("./dom/DomBinder"),s=e("./dom/DomWrappers"),o=function(e){function o(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,s.DomWrappers.text(),e));return r.dataNodeProps=e,r.bindProperties=t,r.nativeProperties=n,r.domBinder=u.DomBinder.create(t),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,a.DataDrivenComponentImpl),r(o,[{key:"setData",value:function(e){if(this.dataNode.name){var t=this.domBinder.getDefaultBinder().set;t&&(this.domWrapper.domElement.data=t(e))}}},{key:"getData",value:function(){if(this.dataNode.name){var e=this.domBinder.getDefaultBinder().get;return e&&e(this.domWrapper.domElement.data)}}},{key:"prepareCopy",value:function(){return new this.constructor(this.dataNodeProps,this.bindProperties)}},{key:"id",get:function(){return this.nativeProperties&&this.nativeProperties[i.NATIVE_PROPERTIES.ID]}}]),o}();n.TextComponent=o},{"../util/const":20,"./BaseComponent":4,"./dom/DomBinder":11,"./dom/DomWrappers":12}],11:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../util/NativeUtil");n.DEFAULT_BIND="____DEFAULT";var a=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.properties=e,this.names=Object.keys(e).filter(function(e){return e!==n.DEFAULT_BIND})}return r(t,[{key:"isDefault",value:function(){return 0===this.names.length&&null!=this.getDefaultBinder()}},{key:"getDefaultBinder",value:function(){return this.properties[n.DEFAULT_BIND]}},{key:"setTo",value:function(t,n){var r=this;switch(n.nodeType){case n.ELEMENT_NODE:this.names.filter(function(e){return null!=r.properties[e].set}).forEach(function(e){i.NativeUtil.applyProperty(n,{name:e,value:r.properties[e].set(t[e])})})}}},{key:"getFrom",value:function(n){var r=this;switch(n.nodeType){case n.ELEMENT_NODE:return this.names.filter(function(e){return null!=r.properties[e].get}).reduce(function(e,t){return Object.assign({},e,o({},t,r.properties[t].get(i.NativeUtil.extractProperty(n,t))))},{});default:return null}}}],[{key:"create",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e[n.DEFAULT_BIND]?new t(Object.assign({},e)):new t(Object.assign({},e,o({},n.DEFAULT_BIND,t.IDENTITY_BINDER)))}}]),t}();a.IDENTITY_BINDER={get:function(e){return e},set:function(e){return e}},a.INT_BINDER={set:function(e){return null==e?"":""+e},get:function(e){return parseInt(e)}},n.DomBinder=a},{"../../util/NativeUtil":18}],12:[function(e,t,n){"use strict";var u=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},s=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),function(e){var r=function(){function t(e){l(this,t),this.domElement=e}return s(t,[{key:"provideParent",value:function(e){this.parentDomWrapper=e}},{key:"removeChild",value:function(e){e instanceof t&&e.detach()}},{key:"clone",value:function(){var e=this.domElement&&this.domElement.cloneNode();return new this.constructor(e)}}]),t}();e.simple=function(e){return new t(e)},e.group=function(){return new n},e.text=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return new a(document.createTextNode(e))};var t=function(e){function t(e){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return p(t,r),s(t,[{key:"appendChild",value:function(e){if("string"==typeof e)this.domElement.appendChild(document.createTextNode(e));else{var t=e.domElement;t&&this.domElement.appendChild(t),e.provideParent(this)}}},{key:"detach",value:function(){var e=this.domElement.parentNode;this.parentDomWrapper&&e&&e.removeChild(this.domElement)}},{key:"id",get:function(){return this.domElement.id},set:function(e){this.domElement.id=e}}]),t}(),o="START",i="END",n=function(e){function n(){l(this,n);var e=c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.startPlaceholder=document.createComment(o),e.endPlaceholder=document.createComment(i),e.children=new Set,e}return p(n,r),s(n,[{key:"appendChild",value:function(e){this.children.add(e),this.fireAppend(e)}},{key:"provideParent",value:function(e){var t=this;u(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"provideParent",this).call(this,e),this.domParent&&(e instanceof n?(this.domParent.insertBefore(this.startPlaceholder,e.endPlaceholder),this.domParent.insertBefore(this.endPlaceholder,e.endPlaceholder)):(this.domParent.appendChild(this.startPlaceholder),this.domParent.appendChild(this.endPlaceholder)),this.children.forEach(function(e){return t.fireAppend(e)}))}},{key:"removeChild",value:function(e){this.children.delete(e),u(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"removeChild",this).call(this,e)}},{key:"detach",value:function(){for(var e=this.startPlaceholder.nextSibling;e!==this.endPlaceholder;e=this.startPlaceholder.nextSibling)this.domParent.removeChild(e);this.domParent.removeChild(this.startPlaceholder),this.domParent.removeChild(this.endPlaceholder)}},{key:"fireAppend",value:function(e){if(this.domParent){if("string"==typeof e)var t=document.createTextNode(e);else t=e.domElement,e.provideParent(this);t&&this.domParent&&this.domParent.insertBefore(t,this.endPlaceholder)}}},{key:"domParent",get:function(){for(var e=this.parentDomWrapper;e;){if(e.domElement)return e.domElement;e=e.parentDomWrapper}}}]),n}(),a=function(e){function t(e){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return p(t,r),s(t,[{key:"appendChild",value:function(e){}},{key:"detach",value:function(){var e=this.domElement.parentNode;e&&e.removeChild(this.domElement)}}]),t}()}(n.DomWrappers||(n.DomWrappers={}))},{}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var p=e("./Builder"),l=e("./component/BaseComponent"),r=e("./component/dom/DomBinder"),o=e("./event/listener");!function(e){function a(t,e){return e.forEach(function(e){return t.append(e)}),t}function u(e,t){return p.Builder.createList(e,t)}function s(e){return p.Builder.createGroup(e)}function c(e){return p.Builder.createText(e)}e.IDENTITY_BINDER=r.DomBinder.IDENTITY_BINDER,e.INT_BINDER=r.DomBinder.INT_BINDER,e.DATA_EVENT="DATA_EVENT",e.DATA_EMITTER=function(){return{eventType:0<arguments.length&&void 0!==arguments[0]?arguments[0]:e.DATA_EVENT}},e.List=u,e.Group=s,e.Text=c,e.define=function(e,t){for(var n,r=arguments.length,o=Array(2<r?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];switch(e){case u:n=u(t||{},o);break;case s:n=a(s(t||{}),o);break;case c:n=a(c(t||{}),o);break;default:n="function"==typeof e?a(p.Builder.createCustom(e,t||{}),o):e instanceof l.DomBasedComponent?a(e,o):a(p.Builder.createComponent(e,t||{},o.some(function(e){return e instanceof l.DomBasedComponent})),o)}return n},e.listen=function(e){return o.Listener.create(e)}}(n.dp||(n.dp={}))},{"./Builder":3,"./component/BaseComponent":4,"./component/dom/DomBinder":11,"./event/listener":15}],14:[function(e,t,n){"use strict";var o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=e("symbol-observable"),u=function(){function r(e,t,n){i(this,r),this.activeSubscriptions=e,this.subscriber=t,this.observerType=n,this.innerSubscriptions=[],this.activeSubscriptions.add(this)}return o(r,[{key:"buildSubscription",value:function(e){this.innerSubscriptions.forEach(function(e){return e()}),this.innerSubscriptions=e(this.subscriber,this.observerType)}},{key:"unsubscribe",value:function(){this.innerSubscriptions.forEach(function(e){return e()}),this.activeSubscriptions.delete(this)}}]),r}(),r=function(){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};i(this,n),this.dataNode=e,this.observationProperties=t,this.children=new Set,this.activeSubscriptions=new Set}return o(n,[{key:"append",value:function(e){if(null!=e.parent)throw new Error("Observation node cannot be appended since it already has a parent.");(e.parent=this).children.add(e),this.rebuildDependentSubscriptions()}},{key:"remove",value:function(e){e.parent===this&&(this.children.delete(e),delete e.parent,this.rebuildDependentSubscriptions())}},{key:"createObservable",value:function(t){var e,n,r,o=this;return e={subscribe:function(e){return o.rebuildSubscription(new u(o.activeSubscriptions,e,t))}},n=a.default,r=function(){return this},n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}},{key:"rebuildSubscription",value:function(e){var n=this;return e.buildSubscription(function(e,t){return n.collectSubscriptions(e,t)}),e}},{key:"rebuildSubscriptions",value:function(){var t=this;this.activeSubscriptions.forEach(function(e){return t.rebuildSubscription(e)})}},{key:"rebuildDependentSubscriptions",value:function(){for(var e=this;e;)e.rebuildSubscriptions(),e=e.parent}},{key:"createEmitter",value:function(e){var t=this;return e||function(){return t.dataNode.getMinimalNamedComponent().getData()}}},{key:"collectSubscriptions",value:function(a,u){var s=this,c=[],p=this.dataNode.component.domNode;p&&Object.keys(this.observationProperties).map(function(e){var t=s.observationProperties[e],n=t.emitter,r=t.eventType;if(null==u||u===r){var o=s.createEmitter(n),i=function(e){a.next({eventType:r,payload:o(e)})};p.addEventListener(e,i),c.push(function(){return p.removeEventListener(e,i)})}});var t=[];return this.children.forEach(function(e){return t.push(e.collectSubscriptions(a,u))}),[].concat.apply(c,t)}}]),n}();n.ObservationNode=r},{"symbol-observable":1}],15:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function a(e){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.stream=e,this.childListeners=new Map,this.consumer=new Map,this.subscription=e.subscribe({next:function(e){var t=e.eventType,n=e.payload,r=i.consumer.get(t);if(r){i.childListeners.forEach(function(e){return e&&e.dispose()});var o=r(n);o instanceof a&&i.childListeners.set(r,o)}},error:function(e){},complete:function(){}})}return r(a,[{key:"dispose",value:function(){this.subscription&&this.subscription.unsubscribe(),this.childListeners.forEach(function(e){return e&&e.dispose()})}},{key:"on",value:function(t){var n=this;return{execute:function(e){n.consumer.set(t,e)}}}}],[{key:"create",value:function(e){return new a(e)}}]),a}();n.Listener=o},{}],16:[function(e,t,n){"use strict";var o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("../component//dom/DomWrappers"),a=e("../component/BaseComponent"),u=e("../util/const"),s=e("../util/PropertiesReader"),r=function(e){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,i.DomWrappers.group(),s.PropertiesReader.create(e).dataNodeProperties));t.properties=e,t.isContainer=!0;var n=t.generateComponent(e);return Array.isArray(n)?n.forEach(function(e){return t.append(e)}):t.append(n),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,a.DataDrivenComponentImpl),o(r,[{key:"setData",value:function(e){this.dataNode.setData(e)}},{key:"getData",value:function(){return this.dataNode.getData()}},{key:"queryByName",value:function(e){return this.dataNode.getByName(e)}},{key:"queryById",value:function(e){return this.dataNode.getById(e)}},{key:"prepareCopy",value:function(){return new this.constructor(this.properties)}},{key:"id",get:function(){return this.properties[u.NATIVE_PROPERTIES.ID]}}]),r}();n.CustomComponent=r},{"../component//dom/DomWrappers":12,"../component/BaseComponent":4,"../util/PropertiesReader":19,"../util/const":20}],17:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../component//BaseComponent"),i=e("./CustomComponent");n.createGenerator=function(n){return function(){return new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.CustomComponent),r(t,[{key:"generateComponent",value:function(){return n.map(function(e){return e instanceof o.DomBasedComponent?e.cloneComponent():e})}}]),t}())}}},{"../component//BaseComponent":4,"./CustomComponent":16}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("./const");!function(e){function a(e){return e.replace(/((-?)\w+)/g,function(e,t){return"-"===e.charAt(0)?""+e.charAt(1).toUpperCase()+e.substr(2).toLowerCase():e.toLowerCase()})}function u(e,t){if("string"==typeof t)var n=function(e){for(var t=/(\w+(-\w+)*)\s*:\s*(\w*(\s|\w)*\w)/g,n={},r=t.exec(e);null!==r;r=t.exec(e)){var o=a(r[1]),i=r[3];n[o]=i}return n}(t);else n=Object.assign({},t);var r=e.style;Object.keys(n).forEach(function(e){return r[e]=n[e]})}function o(e,t){var n=t.name,r=t.value,o=e.classList,i=e.style;if(o&&n===s.STYLE_PROPERTIES.CLASS)return function(t,n){if("string"==typeof n)var e=n.split(" ");else e=Array.isArray(n)?n:Object.keys(n).filter(function(e){return n[e]});e.forEach(function(e){return t.classList.add(e)})}(e,r);if(i&&n===s.STYLE_PROPERTIES.STYLE)return u(e,r);if(n.startsWith("on")&&"function"==typeof r)return e.addEventListener(n.substr(2),r);var a=document.createAttribute(n);a.value=r,e.attributes.setNamedItem(a)}e.applyProperty=o,e.extractProperty=function(e,t){var n=e.classList,r=e.style;if(n&&t===s.STYLE_PROPERTIES.CLASS)return function(e){var t=e.classList,n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;n.push(s)}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e);if(r&&t===s.STYLE_PROPERTIES.STYLE)return function(e){for(var t=e.style,n={},r=t.length,o=0;o<r;o++){var i=t[o];n[a(i)]=t.getPropertyValue(i)}return n}(e);var o=e.attributes.getNamedItem(t);return null!=o?o.value:void 0},e.applyProperties=function(n,r){r[s.NATIVE_PROPERTIES.TYPE]&&o(n,{name:s.NATIVE_PROPERTIES.TYPE,value:r[s.NATIVE_PROPERTIES.TYPE]}),Object.keys(r).forEach(function(e){if(e!==s.NATIVE_PROPERTIES.TYPE){var t=r[e];o(n,{name:e,value:t})}})}}(n.NativeUtil||(n.NativeUtil={}))},{"./const":20}],19:[function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("../component/DataNode"),u=e("../component/dom/DomBinder"),s=e("./const"),r=function(){function r(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.dataNodeProperties={},this.nativeProperties={},this.observationProperties={},this.bindProperties={},Object.keys(t).filter(function(e){return null!=t[e]}).forEach(function(e){n.checkObservationProperty(e,t)||n.checkBindProperties(e,t)||(n.registerDataNodeProperty(e,t),n.registerAsNative(e,t))}),this.dataNodeProperties.name?this.dataNodeProperties.dataBehavior=a.DataMappingBehavior.Named:Object.keys(this.bindProperties).some(function(e){return e!==u.DEFAULT_BIND})?this.dataNodeProperties.dataBehavior=a.DataMappingBehavior.Spread:this.dataNodeProperties.dataBehavior=a.DataMappingBehavior.Search}return i(r,[{key:"registerDataNodeProperty",value:function(e,t){switch(e.toLowerCase()){case s.DATA_NODE_PROPERTIES.NAME:var n=t[e];if("string"!=typeof n)throw new Error('Property "name" must be of type string.');this.dataNodeProperties[s.DATA_NODE_PROPERTIES.NAME]=n}}},{key:"checkObservationProperty",value:function(e,t){var n=e.toLowerCase(),r=t[e];if(n.startsWith("on")&&"object"===(void 0===r?"undefined":o(r)))return this.observationProperties[n.substr(2)]=Object.assign({},r),!0}},{key:"checkBindProperties",value:function(e,t){var n=e.toLowerCase(),r=t[e];switch(n){case s.BIND_PROPERTIES.BIND:return this.bindProperties[u.DEFAULT_BIND]=Object.assign({},r),!0}if("object"===(void 0===r?"undefined":o(r))||r.get||r.set){if(n===s.DATA_NODE_PROPERTIES.NAME)throw new Error('Property "name" must be of type string.');return this.bindProperties[n]=Object.assign({},r),!0}if("function"==typeof r){if(n===s.DATA_NODE_PROPERTIES.NAME)throw new Error('Property "name" must be of type string.');return this.bindProperties[n]={set:r},!0}}},{key:"registerAsNative",value:function(e,t){var n=e.toLowerCase();switch(n){case s.NATIVE_PROPERTIES.TYPE:this.nativeProperties[s.NATIVE_PROPERTIES.TYPE]=t[e].toLowerCase();break;default:this.nativeProperties[n]=t[e]}}}],[{key:"create",value:function(e){return new r(e)}}]),r}();n.PropertiesReader=r},{"../component/DataNode":6,"../component/dom/DomBinder":11,"./const":20}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NODES={DIV:"div",FORM:"form",LABEL:"label",SPAN:"span",UL:"ul",OL:"ol",LI:"li",P:"p",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",IMG:"img",A:"a",INPUT:"input",TEXTAREA:"textarea",BUTTON:"button",SELECT:"select",OPTION:"option",BR:"br"},n.DATA_NODE_PROPERTIES={NAME:"name"},n.STYLE_PROPERTIES={CLASS:"class",STYLE:"style"},n.NATIVE_PROPERTIES={TYPE:"type",ID:"id"},n.BIND_PROPERTIES={BIND:"bind"}},{}]},{},[13])(13)});